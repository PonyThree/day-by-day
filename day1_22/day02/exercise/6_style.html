<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<script src='js/vue.js'></script>
</head>
<body>
	<div id="app">
		<input type="text" v-model='phone' @focus='getFocus()' @blur='myBlur()'>
		<span :style='spanStyle'>{{text}}</span>
		<!-- <span style='background:green;color:lightgreen
		'>手机号格式正确</span>
		<span style='background:red;color:lightpink'>手机号格式不正确</span> -->
	</div>
	<script>
	var vm=new Vue({
		el:'#app',
		data:{
			phone:'',
			// 样式定义为一个对象
			spanStyle:{
				background:'',
				color:'',
				fontSize:''
			},
			text:'',
		},
		methods:{
				getFocus(){//当获得焦点时自动触发
				//清空内容和样式
					this.text='';
					this.spanStyle.background='';
					this.color=''
				},
				myBlur(){//当失去焦点时，进行验证
					//如果验证通过
					// 这里的phone是双向数据绑定得到的界面的value值
					if(/^1[3-8]\d{9}$/.test(this.phone)){
						//修改样式为正确的样式
						this.text='手机格式正确';
						this.spanStyle.background='green';
						this.spanStyle.color='lightgreen';
					}else{
						//修改为不正确的样式和内容
						this.text='手机格式不正确';
						this.spanStyle.background='pink';
						this.spanStyle.color='red';
					}

				}
			}
	})
	// setInterval(function(){
	// 	vm.text='手机号码正确';
	// 	var r=Math.random()*256;
	// 	var g=Math.random()*256;
	// 	var b=Math.random()*256;
	// 	var a=Math.random();
	// 	vm.spanStyle.background=`rgba(${r},${g},${b},${a})`;
	// 	var r=Math.random()*256;
	// 	var g=Math.random()*256;
	// 	var b=Math.random()*256;
	// 	vm.spanStyle.color=`rgb(${r},${g},${b})`;
	// },1000)
	</script>
</body>
</html>