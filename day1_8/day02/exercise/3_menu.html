<!DOCTYPE HTML>
<html>
<head>
<title>1. 实现伸缩二级菜单</title>
<meta charset="utf-8" />
<link rel="stylesheet" href="css/1.css" />

</head>
<body>
	<ul class="tree">
		<li>
			<span class="open">考勤管理</span>
			<ul>
				<li>日常考勤</li>
				<li>请假申请</li>
				<li>加班/出差</li>
			</ul>
		</li>
		<li>
			<span>信息中心</span>
			<ul>
				<li>通知公告</li>
				<li>公司新闻</li>
				<li>规章制度</li>
			</ul>
		</li>
		<li><span>协同办公</span>
			<ul>
				<li>公文流转</li>
				<li>文件中心</li>
				<li>内部邮件</li>
				<li>即时通信</li>
				<li>短信提醒</li>
			</ul>
		</li>
	</ul>
	<script>
		//1.查找需要绑定事件的元素
		var spans=document.querySelectorAll('ul.tree > li >span');
		//遍历每一个span元素
		for(var span of spans){
			//2.为每一个span绑定点击事件
			span.onclick=function(){
				var span=this;
				//3.找到需要修改的元素
				//4.修改元素
				//如果当前span的class为open
				if(span.className=='open'){
					//只要清空当前span自己的className
					span.className='';
				}else{//否则(如果当前span不是open的)
				//先找到另一个开着的span
				var openSpan=document.querySelector('ul.tree > li >span.open');
				//如果没有全部都是关闭着的情况---意思是openSpan存在
					if(openSpan!=null){
					openSpan.className='';
					}
					//再把自己打开
					span.className='open';
				}
			}
		}
	</script>
</body>
</html>
