<!DOCTYPE html>
<html>
 <head>
  <title> new document </title>
  <meta charset="utf-8">
 </head>
 <body>
	<h1>操作元素的内容和值</h1>
	<form action="">
		用户名:<input name="uname">
					<span id="uname-msg"></span><br>
		密码:<input type="password" name="upwd">
					<span id="upwd-msg"></span><br>
		<input type="submit" value="提交注册信息">
	</form>
	<script src="js/jquery-1.11.3.js"></script>
	<script>
	//查找姓名文本框(type=text)和密码框(type=password):
	var $txtName=$('input:text');
	var $txtPwd=$('input:password');
	function getYz($txt,minLen,maxLen,msg){
		//验证当前文本框的内容的长度
		var len=$txt.val().length;
		if(len>=minLen&&len<=maxLen){//正确时，使用图片:"<img src='img/ok.png'>"
			//找到当前文本框的下一个兄弟span,设置其内容
			$txt.next().html(`<img src='img/ok.png'>`);
			return true;
		}else{//否则，找到当前文本框的下一个兄弟span，设置其内容
			//姓名错误时: "<img src='img/err.png'>用户名必须介于3~9位之间!"
			$txt.next().html(`<img src='img/err.png'>用户名必须介于3~9位之间!`);
			return false;
		}
	}
	//为姓名文本框其绑定失去焦点事件:
	$txtName.blur(function(){

		//这里的this指的就是当前触发事件的元素
		getYz($(this),3,9,'用户名必须介于3~9位之间!');
		/*var $txt=$(this);
		//验证当前文本框的内容的长度
		var len=$txt.val().length;
		if(len>=3&&len<=9){//正确时，使用图片:"<img src='img/ok.png'>"
			//找到当前文本框的下一个兄弟span,设置其内容
			$txt.next().html(`<img src='img/ok.png'>`);
		}else{//否则，找到当前文本框的下一个兄弟span，设置其内容
			//姓名错误时: "<img src='img/err.png'>用户名必须介于3~9位之间!"
			$txt.next().html(`<img src='img/err.png'>`);
		}*/
	})
    
    //为密码文本框其绑定失去焦点事件:
	$txtPwd.blur(function(){
		getYz($(this),6,8,'密码必须介于6~8位之间!');
		/*var $txt=$(this);
		//验证当前文本框的内容的长度
		var len=$txt.val().length;
		if(len>=6&&len<=8){//正确时，使用图片:"<img src='img/ok.png'>"
			//找到当前文本框的下一个兄弟span,设置其内容
			$txt.next().html(`<img src='img/ok.png'>`);
		}else{//否则，找到当前文本框的下一个兄弟span，设置其内容
			//姓名错误时: "<img src='img/err.png'>用户名必须介于3~9位之间!"
			$txt.next().html(`<img src='img/err.png'>密码必须介于6~8位之间!`);
		}*/
	});
    //查找表单，为其绑定sumbit事件
	$('form').submit(function(e){
		//获得两个文本框的验证结果
		var rName=getYz($textName,3,9,'用户名必须介于3~9位之间!');
		var rPwd=getYz($txtPwd,6,8,'密码必须介于6~8位之间!');
		//如果两个不都是true
		if(!(rName&&rPwd)){
		//阻止默认行为: e.preventDefault();
			e.preventDefault();//阻止提交
		}
		//表单提交: $(form).submit();
	})
	
	</script>
 </body>
</html>
